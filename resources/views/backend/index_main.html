<section class="tile cornered">

    <div class="tile-header color red text-center">
        <button class="btn pull-left btn-black-transparent" type="button"><i class="fa fa-caret-square-o-down"></i>
        </button>
        <h1 class="small-uppercase">TODOs</h1>
        <div class="controls">
            <a href="#" class="refresh"><i class="fa fa-refresh"></i></a>
            <a href="#" class="remove"><i class="fa fa-times"></i></a>
        </div>
    </div>

    <div class="tile-body">
        <input type="text" placeholder="Type new todo..." id="type_todo" class="grey-bg w100p margin-vertical-15">
        <ul class="nolisttypes" id="todolist">
            {{ .todos }}
        </ul>
    </div>

</section>

<script>
    //todo's
    $("#type_todo").keyup(function (e) {
        if (e.keyCode === 13 && $(this).val()) {
            let idx = Math.ceil(Math.random() * 1000)
            $("#todolist").append(`<li><div class="checkbox check-cyan"><input type="checkbox" value="1" id="todo-`+idx+`"><label for="todo-`+idx+`">`+$(this).val()+`</label></div></li>`)
            $(this).val('')
            $.post("/public/todos",{todos: $("#todolist").html()})
        }
    })

    $('#todolist li label').click(function () {
        $(this).toggleClass('done');
        $.post("/public/todos",{todos: $("#todolist").html()})
    });

</script>
