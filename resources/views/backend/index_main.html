

<div style="background: rgba(125, 114, 100, 0.05); overflow-x: hidden; overflow-y:auto;">
    <div class="col-md-12" >
        <section class="tile" >

            <div class="tile-header color greensea text-center">
                <button class="btn pull-left btn-black-transparent" type="button"><i class="fa fa-caret-square-o-down"></i>
                </button>
                <h1 class="small-uppercase">TODOs</h1>
            </div>

            <div class="tile-body">
                <input type="text" placeholder="Type new todo..." id="type_todo" class="grey-bg margin-vertical-15" style="width: 100%">
                <ul class="nolisttypes" id="todolist">
                    {{range $index, $val := .todos}}
                        <li><div class="checkbox check-cyan"><input type="checkbox" id="todo-{{$val.Id}}"><label for="todo-{{$val.Id}}">{{$val.Message}}</label></div></li>
                    {{end}}

                </ul>
            </div>

        </section>
    </div>
    <div class="col-md-12 text-center" >


        <section class="tile" >

            <div class="tile-header color greensea text-center">
                <button class="btn pull-left btn-black-transparent" type="button"><i class="fa fa-caret-square-o-down"></i>
                </button>
                <h1 class="small-uppercase">TimeLines</h1>
            </div>

            <div class="tile-body">

                <ol class="timeline">

                    <li>
                        <div class="pointer greensea">
                            <i class="fa fa-clock-o"></i>
                        </div>
                        <div class="el-container">
                            <div class="content">
                                <span class="time"><i class="fa fa-clock-o"></i> no time</span>
                                <h1>插件(so, dll?, 激发开发者加入开发)</h1>
                                <p>看是否可以动态加载so, dll 并且注册路由等功能. </p>
                            </div>
                        </div>
                    </li>

                    <li>
                        <div class="pointer greensea">
                            <i class="fa fa-coffee"></i>
                        </div>
                        <div class="el-container">
                            <div class="content">
                                <span class="time"><i class="fa fa-clock-o"></i> no time</span>
                                <h1>文档模型<span class="label label-warning">todo</span></h1>
                                <p>添加一些默认字段, 并且禁止删除和修改.
                                    easyui的组件更替为bootstrap, 前端模型和分类联动性. 考虑前端级联调用不同模型的数据显示.
                                    默认搜索字段开放, 静态化路由规则开发.
                                    基于模型清除模板缓存文件. 添加一些默认的行为方法, 比如随机数字, 随机字符串, 联动选项, 随机提取关键字等功能. </p>
                            </div>
                        </div>
                    </li>

                    <li>
                        <div class="pointer greensea">
                            <i class="fa fa-envelope"></i>
                        </div>
                        <div class="el-container">
                            <div class="content">
                                <span class="time"><i class="fa fa-clock-o"></i> 2020-03-26</span>
                                <h1>代码优化<span class="label label-success">doing</span></h1>
                                <p>测试内部多模块数据, 完善menu菜单入库数据. 页面按钮优化. 表单样式更改为bootstrap4, <b>model_publish.html</b>布局更改为左右布局. 可以发布文档到多个相同模型的分类里, 减少发布复杂度.  开发审核模块, 并且使用权限分割数据显示. </p>
                            </div>
                        </div>
                    </li>
                </ol>
            </div>

        </section>



    </div>
</div>


<script>
    //todo's
    $("#type_todo").keyup(function (e) {
        let val =  $(this).val();
        if (e.keyCode === 13 && val) {
            $.post("/public/todo",{todo: val}, function (data){
                $(this).val('')
                $("#todolist").append(`<li><div class="checkbox check-cyan"><input type="checkbox"  id="todo-`+data.errmsg+`"><label for="todo-`+data.errmsg+`">`+val+`</label></div></li>`)
            })
        }
    })

    $('#todolist li label').on('click',function () {
        var that = $(this)
        let id = $(this).attr("for").replace("todo-", "")
        $.messager.confirm("todo提醒", "是否要完成此项任务, 点击后即删除", function (ret) {
            if (ret) {
                $.post("/public/todo",{id: id}, function (data) {
                    if (!data.errcode) {
                        that.toggleClass('done');
                        that.parent().remove();
                    }
                })
            }
        })
    });

</script>
