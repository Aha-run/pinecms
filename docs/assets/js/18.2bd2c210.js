(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{707:function(t,e,a){"use strict";a.r(e);var l=a(92),s=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"搜索页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搜索页面"}},[t._v("#")]),t._v(" 搜索页面")]),t._v(" "),a("p",[t._v("搜索页面一般用用来针对用户即时搜索使用的页面. 开发者需要在各个主题下创建模板 "),a("code",[t._v("search.jet")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("告知")]),t._v(" "),a("p",[t._v("不支持多模型内容同时查询, 请悉知.")]),t._v(" "),a("p",[t._v("如需改造搜索内容可以修改"),a("code",[t._v("src/controllers/frontend/search.go")]),t._v("控制器.")])]),t._v(" "),a("p",[t._v("下面列举可用字段:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("字段")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("keywords")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("搜索关键字, 用于提取内容, 不得小于两个字节, 多个用空格分离")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("page")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("页码")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("pagesize")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("分页记录条数, 默认15")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("orderby")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("排序条件字段: 想要查询的表字段, 排序规则为逆序")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("starttime")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("起始时间: "),a("br"),t._v("如果为纯数字就视为天数. "),a("br"),t._v("正确格式为: 10 或 2020-03-12 或 2020-03-12 11:11:11")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("typeid")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("分类ID (会同时查询该分类下的所有分类的内容)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("kwtype")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("多关键字查询的条件: "),a("br"),t._v("   1: 只要满足一个即可"),a("br"),t._v("   0: 必须都满足")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("channeltype")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("模型ID 与 typeid相互影响"),a("br"),t._v(" typeid=0,channeltype!=0时,根据 channeltype查询需要关联的表名"),a("br"),t._v("typeid!=0,channeltype=0则根据typeid决定channeltype和表名"),a("br"),t._v("两者都为0时就默认为文章模型")])])])]),t._v(" "),a("h1",{attrs:{id:"控制器导出的模板变量如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#控制器导出的模板变量如下"}},[t._v("#")]),t._v(" 控制器导出的模板变量如下:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("变量")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("list")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("符合条件的记录数组. 格式为: "),a("code",[t._v("[]map[string]string")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("pagelist")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("页码组件生成HTML的函数")])])])]),t._v(" "),a("h1",{attrs:{id:"使用案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用案例"}},[t._v("#")]),t._v(" 使用案例")]),t._v(" "),a("div",{staticClass:"language-jettemplatelanguage line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('\n{{range field := list }}\n    <a href="{{field["arcurl"]}}" target="_blank">{{field["title"]}}</a><span class="state other"> {{format_time(field["pubtime"], "01月02日")}}</span>\n{{end}}\n\n{{pagelist() | unsafe}}\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])])])}),[],!1,null,null,null);e.default=s.exports}}]);